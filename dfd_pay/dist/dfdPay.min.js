require=function r(o,i,a){function s(t,e){if(!i[t]){if(!o[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(u)return u(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=i[t]={exports:{}},o[t][0].call(n.exports,function(e){return s(o[t][1][e]||e)},n,n.exports,r,o,i,a)}return i[t].exports}for(var u="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,n){"use strict";var r=!1;window.addEventListener("MobileLoaded",function(){console.log("MobileLoaded"),r=!0,window.isMobile=!0});var o,i,a="MobileDapp",o=((o=document.createElement("style")).type="text/css",document.head.appendChild(o),i=o.sheet,function(e,t,n){n=n||0,i.insertRule(e+"{"+t+"}",n)});t.exports={isExtInstalled:function(){return"undefined"!=typeof XwcExtWallet},isChrome:function(){if("undefined"!=typeof window&&navigator.userAgent.toLowerCase().match(/chrome\/([\d\.]+)/))return!0;return!1},isMobile:function(){return-1<navigator.userAgent.toLowerCase().indexOf("mobile")},isNano:function(){return-1<navigator.userAgent.toLowerCase().indexOf("nasnanoapp")},isWechat:function(){return-1<navigator.userAgent.toLowerCase().indexOf("micromessenger")},randomCode:function(e){for(var t,n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",r="",o=0;o<e;o+=1)t=Math.random()*n.length,t=Math.floor(t),r+=n.charAt(t);return r},addCssRule:o,getOrigin:function(){var e="undefined"!=typeof location&&location.hasOwnProperty("hostname")&&location.hostname.length&&"localhost"!==location.hostname?location.hostname:"";return"www."===e.substr(0,4)&&(e=e.replace("www.","")),e},isMobileMobile:function(){return!0===window.isMobile?(r=window.isMobile,!0):r},wrappedMobileMethod:function(e){return e.startsWith(a)?e:a+"."+e}}},{}],2:[function(e,t,n){"use strict";var s=e("./config"),u=e("./Utils");t.exports=function(e,t){var n,r,o,i,a=(a=s.nanoScheme(t.debug))+"://virtual?params="+JSON.stringify(e);window.location.href=a,!u.isMobileMobile()&&t.mobile.showInstallTip&&(n=function(e){e||window.confirm('XwcExtWallet is not installed. Click "ok" to install it.')&&(window.location.href="https://wallet.dfd.cash/")},r=+new Date,i=0,o=setInterval(function(){i++;var e=+new Date-r;(100<=i||3e3<e)&&(clearInterval(o),3e3<e||document.hidden||document.webkitHidden?n(1):n(0))},20))}},{"./Utils":1,"./config":3}],3:[function(e,t,n){"use strict";var r="http://wallet.dfd.cash/api",o="http://wallet.dfd.cash/testnet_api";t.exports={payUrl:function(e){return(e=e||!1)?o:r},nanoScheme:function(e){return(e=e||!1)?"openapp.DFDnano.testnet":"openapp.DFDnano"},mainnetUrl:r,testnetUrl:o}},{}],4:[function(e,t,n){"use strict";var r={};window.addEventListener("message",function(e){var t,n;"content"===e.data.src&&(t=e.data.serialNumber,e.data.data&&"XwcExtWallet"!==e.data.data.source||"function"==typeof(n=r[t])&&n(t,e.data.resp,e.data.name))}),t.exports=function(e){e.listener&&(r[e.serialNumber]=e.listener),e.listener=void 0,window.postMessage({src:"dfdPay",logo:"dfd",params:e},"*")}},{}],5:[function(e,t,n){"use strict";var r=function(r){return new Promise(function(e,t){var n=new XMLHttpRequest;n.open(r.method||"GET",r.url),r.headers&&Object.keys(r.headers).forEach(function(e){n.setRequestHeader(e,r.headers[e])}),n.onload=function(){200<=n.status&&n.status<300?e(n.response):t(n.statusText)},n.onerror=function(){return t(n.statusText)},n.send(r.body)})};t.exports={get:function(e,t){return r({url:e,method:"GET",body:t})},post:function(e,t){return r({url:e,method:"POST",body:t})},request:r}},{}],6:[function(e,t,n){"use strict";var r={};t.exports=function(t){t.listener&&(r[t.serialNumber]=t.listener),dsBridge.call("MobileDapp.dfdCall",t,function(e){console.log("MobileDapp.dfdCall: "+JSON.stringify(e));e=JSON.parse(e);return"function"==typeof t.listener?t.listener(t.serialNumber,e.resp,e.name):null})}},{}],7:[function(e,t,n){"use strict";var s=e("bignumber.js"),u=e("./Utils"),r=e("./qrcode"),o=e("./extensionHandler"),i=e("./appHandler"),a=e("./mobileHandler"),l=e("./config"),e=function(e,t){this.appKey=e,this.appSecret=t},c="1000000000000",f="50000000000";e.prototype={submitParamsToWallet:function(e,t,n){if(setTimeout(function(){!function(e){try{var t=e.callback||"http://wallet.dfd.cash/api",n=new XMLHttpRequest;n.onreadystatechange=function(){},n.open("POST",t,!0),n.send(JSON.stringify({jsonrpc:"2.0",id:1,method:"SendPayId",params:[e.serialNumber]})),n.onerror=function(e){console.log("submit payId error",e)}}catch(e){console.log(e)}}(n)}),u.isMobileMobile())return"confirmSignText"!==t&&"confirmSignHex"!==t||(e.method="confirmSign"),void a(e,n);u.isChrome()&&!u.isMobileMobile()&&n.extension.openExtension&&(u.isExtInstalled()?o(e):window.confirm('XwcExtWallet is not installed. Click "ok" to install it.')&&window.open("https://chrome.google.com/webstore/detail/dfdextwallet/eboifcnkiocbamnhekeoembpmmcnebii"));e={category:"jump",des:t||"confirmTransfer",pageParams:e};return u.isMobileMobile()&&i(e,n),n.qrcode.showQRCode&&!u.isNano()&&r.showQRCode(JSON.stringify(e),n),n.serialNumber},requestSignText:function(e,t){t.serialNumber=u.randomCode(32);e={serialNumber:t.serialNumber,goods:t.goods,signBufferText:e,callback:t.callback||l.payUrl(t.debug),listener:t.listener,isSignBufferText:!0};return this.submitParamsToWallet(e,"confirmSignText",t)},requestSign:function(e,t){t.serialNumber=u.randomCode(32);e={serialNumber:t.serialNumber,goods:t.goods,signBufferHex:e,callback:t.callback||l.payUrl(t.debug),listener:t.listener,isSignBufferHex:!0};return this.submitParamsToWallet(e,"confirmSignHex",t)},submit:function(e,t,n,r,o){var i,a;if(o.serialNumber=u.randomCode(32),n=n||"0",o.gasLimit){if((i=new s(o.gasLimit)).lt(0))throw new Error("gas limit should not be minus");if(i.gt(f))throw new Error("gas limit should smaller than "+f);if(!i.isInteger())throw new Error("gas limit should be integer")}if(o.gasPrice){if((a=new s(o.gasPrice)).lt(0))throw new Error("gas price should not be minus");if(a.gt(c))throw new Error("gas price should smaller than "+c)}r={serialNumber:o.serialNumber,goods:o.goods,pay:{currency:e,to:t,valueRaw:n,memo:r.memo,payload:r,gasLimit:i?i.toString(10):void 0,gasPrice:a?a.toString(10):void 0,contractApi:r.function,contractArg:r.args},callback:o.callback||l.payUrl(o.debug),listener:o.listener,hrc20:o.hrc20};return this.submitParamsToWallet(r,"confirmTransfer",o)}},t.exports=e},{"./Utils":1,"./appHandler":2,"./config":3,"./extensionHandler":4,"./mobileHandler":6,"./qrcode":8,"bignumber.js":9}],8:[function(e,t,n){"use strict";var r=e("qrcode"),s=e("./Utils"),u=function(e,t){void 0!==t.listener&&t.listener(t.serialNumber,e)};t.exports={showQRCode:function(e,t){var n;"undefined"!=typeof window&&(void 0===(n=t.qrcode.container)&&(n=function(e){var t=document.createElement("canvas");t.className="qrcode";s.addCssRule(".qrcode","//box-shadow: 2px 2px 12px lightgray;");var n=document.createElement("div");n.className="qrcode-container";s.addCssRule(".qrcode-container","text-align: center;    //background-color: #fff0;    background-color: white;    //border-radius: 20px;    width: min-content; //300px;    height: min-content; //300px;    position: absolute;    left: 50%;    top: 50%;    transform: translate(-50%,-50%);"),n.appendChild(t);var r=document.createElement("br");n.appendChild(r);var o=document.createElement("label");o.innerHTML='Please use <a href= "https://nano.dfd.io/" target="_blank" >NasNano</a> to scan this QR-Code.',o.className="qrcode-text",s.addCssRule(".qrcode-text","background-color: white;    \twidth: 300px"),n.appendChild(o),r=document.createElement("br"),n.appendChild(r);o=document.createElement("BUTTON");o.className="complete",o.innerHTML=e.qrcode.completeTip||"COMPLETE/完成支付",s.addCssRule(".complete","background-color: #000;\tborder-radius: 4px;\twidth: 295px; // 300px;\theight: 40px;\t// padding: 20px;\tmargin-top: 20px;\tcolor: #fff;\t"),n.appendChild(o),r=document.createElement("br"),n.appendChild(r);r=document.createElement("BUTTON");r.className="cancel",r.innerHTML=e.qrcode.cancelTip||"CANCEL/取消支付",s.addCssRule(".cancel","background-color: #666;\tborder-radius: 4px;\twidth: 295px; // 300px;\theight: 40px;\t// padding: 20px;\tmargin-top: 10px;\tmargin-bottom: 20px;\tcolor: #fff;\t"),n.appendChild(r);var i=document.createElement("div");i.className="qrcode-background",s.addCssRule(".qrcode-background","position:absolute;\tleft:0;\ttop:0;\tz-index:100;\theight:100%;\twidth:100%;\tbackground-color: rgba(0, 0, 0, 0.4);"),i.appendChild(n);var a=document.getElementsByTagName("body")[0];return a.appendChild(i),n.onclick=function(){event.cancelBubble=!0},i.onclick=function(){},r.onclick=function(){a.removeChild(i),i=null,u(!1,e)},o.onclick=function(){a.removeChild(i),u(!(i=null),e)},t}(t)),r.toCanvas(n,e,function(e){e&&console.error(e)}))}}},{"./Utils":1,qrcode:14}],9:[function(e,n,t){!function(e){"use strict";var t,D=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,q=Math.ceil,F=Math.floor,j=" not a boolean or binary digit",H="rounding mode",Y="number type has more than 15 significant digits",z="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ$_",J=1e14,K=14,W=9007199254740991,V=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],Q=1e7,$=1e9;function G(e){var t=0|e;return 0<e||e===t?t:t-1}function X(e){for(var t,n,r=1,o=e.length,i=e[0]+"";r<o;){for(t=e[r++]+"",n=K-t.length;n--;t="0"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function i(e,t){var n,r=e.c,o=t.c,i=e.s,a=t.s,s=e.e,e=t.e;if(!i||!a)return null;if(n=r&&!r[0],t=o&&!o[0],n||t)return n?t?0:-a:i;if(i!=a)return i;if(n=i<0,t=s==e,!r||!o)return t?0:!r^n?1:-1;if(!t)return e<s^n?1:-1;for(a=(s=r.length)<(e=o.length)?s:e,i=0;i<a;i++)if(r[i]!=o[i])return r[i]>o[i]^n?1:-1;return s==e?0:e<s^n?1:-1}function Z(e,t,n){return(e=oe(e))>=t&&e<=n}function ee(e){return"[object Array]"==Object.prototype.toString.call(e)}function te(e,t,n){for(var r,o,i=[0],a=0,s=e.length;a<s;){for(o=i.length;o--;i[o]*=t);for(i[r=0]+=z.indexOf(e.charAt(a++));r<i.length;r++)i[r]>n-1&&(null==i[r+1]&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function ne(e,t){return(1<e.length?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function re(e,t){var n,r;if(t<0){for(r="0.";++t;r+="0");e=r+e}else if(++t>(n=e.length)){for(r="0",t-=n;--t;r+="0");e+=r}else t<n&&(e=e.slice(0,t)+"."+e.slice(t));return e}function oe(e){return((e=parseFloat(e))<0?q:F)(e)}(t=function e(t){var g,l,n,c,a,s,u,f,d,w=0,r=B.prototype,h=new B(1),p=20,m=4,v=-7,b=21,y=-1e7,E=1e7,C=!0,x=L,A=!1,N=1,T=0,R={decimalSeparator:".",groupSeparator:",",groupSize:3,secondaryGroupSize:0,fractionGroupSeparator:" ",fractionGroupSize:0};function B(e,t){var n,r,o,i,a,s,u=this;if(!(u instanceof B))return new B(e,t);if(null!=t&&x(t,2,64,w,"base")){if(s=e+"",10==(t|=0))return O(u=new B(e instanceof B?e:s),p+u.e+1,m);if((i="number"==typeof e)&&0*e!=0||!new RegExp("^-?"+(n="["+z.slice(0,t)+"]+")+"(?:\\."+n+")?$",t<37?"i":"").test(s))return l(u,s,i,t);i?(u.s=1/e<0?(s=s.slice(1),-1):1,C&&15<s.replace(/^0\.0*|\./,"").length&&U(w,Y,e),i=!1):u.s=45===s.charCodeAt(0)?(s=s.slice(1),-1):1,s=M(s,10,t,u.s)}else{if(e instanceof B)return u.s=e.s,u.e=e.e,u.c=(e=e.c)?e.slice():e,void(w=0);if((i="number"==typeof e)&&0*e==0){if(u.s=1/e<0?(e=-e,-1):1,e===~~e){for(r=0,o=e;10<=o;o/=10,r++);return u.e=r,u.c=[e],void(w=0)}s=e+""}else{if(!D.test(s=e+""))return l(u,s,i);u.s=45===s.charCodeAt(0)?(s=s.slice(1),-1):1}}for(-1<(r=s.indexOf("."))&&(s=s.replace(".","")),0<(o=s.search(/e/i))?(r<0&&(r=o),r+=+s.slice(o+1),s=s.substring(0,o)):r<0&&(r=s.length),o=0;48===s.charCodeAt(o);o++);for(a=s.length;48===s.charCodeAt(--a););if(s=s.slice(o,a+1))if(a=s.length,i&&C&&15<a&&(W<e||e!==F(e))&&U(w,Y,u.s*e),E<(r=r-o-1))u.c=u.e=null;else if(r<y)u.c=[u.e=0];else{if(u.e=r,u.c=[],o=(r+1)%K,r<0&&(o+=K),o<a){for(o&&u.c.push(+s.slice(0,o)),a-=K;o<a;)u.c.push(+s.slice(o,o+=K));s=s.slice(o),o=K-s.length}else o-=a;for(;o--;s+="0");u.c.push(+s)}else u.c=[u.e=0];w=0}function M(e,t,n,r){var o,i,a,s,u,l,c,f=e.indexOf("."),d=p,h=m;for(n<37&&(e=e.toLowerCase()),0<=f&&(a=T,T=0,e=e.replace(".",""),u=(c=new B(n)).pow(e.length-f),T=a,c.c=te(re(X(u.c),u.e),10,t),c.e=c.c.length),i=a=(l=te(e,n,t)).length;0==l[--a];l.pop());if(!l[0])return"0";if(f<0?--i:(u.c=l,u.e=i,u.s=r,l=(u=g(u,c,d,h,t)).c,s=u.r,i=u.e),f=l[o=i+d+1],a=t/2,s=s||o<0||null!=l[o+1],s=h<4?(null!=f||s)&&(0==h||h==(u.s<0?3:2)):a<f||f==a&&(4==h||s||6==h&&1&l[o-1]||h==(u.s<0?8:7)),o<1||!l[0])e=s?re("1",-d):"0";else{if(l.length=o,s)for(--t;++l[--o]>t;)l[o]=0,o||(++i,l=[1].concat(l));for(a=l.length;!l[--a];);for(f=0,e="";f<=a;e+=z.charAt(l[f++]));e=re(e,i)}return e}function P(e,t,n){var r,o,i,a=0,s=e.length,u=t%Q,l=t/Q|0;for(e=e.slice();s--;)a=((o=u*(o=e[s]%Q)+(r=l*o+(i=e[s]/Q|0)*u)%Q*Q+a)/n|0)+(r/Q|0)+l*i,e[s]=o%n;return a&&(e=[a].concat(e)),e}function I(e,t,n,r){var o,i;if(n!=r)i=r<n?1:-1;else for(o=i=0;o<n;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function S(e,t,n,r){for(var o=0;n--;)e[n]-=o,o=e[n]<t[n]?1:0,e[n]=o*r+e[n]-t[n];for(;!e[0]&&1<e.length;e.splice(0,1));}function _(e,t,n,r){var o,i,a,s;if(n=null!=n&&x(n,0,8,r,H)?0|n:m,!e.c)return e.toString();if(o=e.c[0],i=e.e,null==t)s=X(e.c),s=(19==r||24==r&&i<=v?ne:re)(s,i);else if(n=(e=O(new B(e),t,n)).e,a=(s=X(e.c)).length,19==r||24==r&&(t<=n||n<=v)){for(;a<t;s+="0",a++);s=ne(s,n)}else if(t-=i,s=re(s,n),a<n+1){if(0<--t)for(s+=".";t--;s+="0");}else if(0<(t+=n-a))for(n+1==a&&(s+=".");t--;s+="0");return e.s<0&&o?"-"+s:s}function o(e,t){var n,r,o=0;for(ee(e[0])&&(e=e[0]),n=new B(e[0]);++o<e.length;){if(!(r=new B(e[o])).s){n=r;break}t.call(n,r)&&(n=r)}return n}function L(e,t,n,r,o){return(e<t||n<e||e!=oe(e))&&U(r,(o||"decimal places")+(e<t||n<e?" out of range":" not an integer"),e),!0}function k(e,t,n){for(var r=1,o=t.length;!t[--o];t.pop());for(o=t[0];10<=o;o/=10,r++);return(n=r+n*K-1)>E?e.c=e.e=null:n<y?e.c=[e.e=0]:(e.e=n,e.c=t),e}function U(e,t,n){throw(n=new Error(["new BigNumber","cmp","config","div","divToInt","eq","gt","gte","lt","lte","minus","mod","plus","precision","random","round","shift","times","toDigits","toExponential","toFixed","toFormat","toFraction","pow","toPrecision","toString","BigNumber"][e]+"() "+t+": "+n)).name="BigNumber Error",w=0,n}function O(e,t,n,r){var o,i,a,s,u,l,c,f=e.c,d=V;if(f){e:{for(o=1,s=f[0];10<=s;s/=10,o++);if((i=t-o)<0)i+=K,a=t,c=(u=f[l=0])/d[o-a-1]%10|0;else if((l=q((i+1)/K))>=f.length){if(!r)break e;for(;f.length<=l;f.push(0));u=c=0,a=(i%=K)-K+(o=1)}else{for(u=s=f[l],o=1;10<=s;s/=10,o++);c=(a=(i%=K)-K+o)<0?0:u/d[o-a-1]%10|0}if(r=r||t<0||null!=f[l+1]||(a<0?u:u%d[o-a-1]),r=n<4?(c||r)&&(0==n||n==(e.s<0?3:2)):5<c||5==c&&(4==n||r||6==n&&(0<i?0<a?u/d[o-a]:0:f[l-1])%10&1||n==(e.s<0?8:7)),t<1||!f[0])return f.length=0,r?(t-=e.e+1,f[0]=d[(K-t%K)%K],e.e=-t||0):f[0]=e.e=0,e;if(0==i?(f.length=l,s=1,l--):(f.length=l+1,s=d[K-i],f[l]=0<a?F(u/d[o-a]%d[a])*s:0),r)for(;;){if(0==l){for(i=1,a=f[0];10<=a;a/=10,i++);for(a=f[0]+=s,s=1;10<=a;a/=10,s++);i!=s&&(e.e++,f[0]==J&&(f[0]=1));break}if(f[l]+=s,f[l]!=J)break;f[l--]=0,s=1}for(i=f.length;0===f[--i];f.pop());}e.e>E?e.c=e.e=null:e.e<y&&(e.c=[e.e=0])}return e}return B.another=e,B.ROUND_UP=0,B.ROUND_DOWN=1,B.ROUND_CEIL=2,B.ROUND_FLOOR=3,B.ROUND_HALF_UP=4,B.ROUND_HALF_DOWN=5,B.ROUND_HALF_EVEN=6,B.ROUND_HALF_CEIL=7,B.ROUND_HALF_FLOOR=8,B.EUCLID=9,B.config=B.set=function(){var e,t,n=0,r={},o=arguments,i=o[0],a=i&&"object"==typeof i?function(){if(i.hasOwnProperty(t))return null!=(e=i[t])}:function(){if(n<o.length)return null!=(e=o[n++])};return a(t="DECIMAL_PLACES")&&x(e,0,$,2,t)&&(p=0|e),r[t]=p,a(t="ROUNDING_MODE")&&x(e,0,8,2,t)&&(m=0|e),r[t]=m,a(t="EXPONENTIAL_AT")&&(ee(e)?x(e[0],-$,0,2,t)&&x(e[1],0,$,2,t)&&(v=0|e[0],b=0|e[1]):x(e,-$,$,2,t)&&(v=-(b=0|(e<0?-e:e)))),r[t]=[v,b],a(t="RANGE")&&(ee(e)?x(e[0],-$,-1,2,t)&&x(e[1],1,$,2,t)&&(y=0|e[0],E=0|e[1]):x(e,-$,$,2,t)&&(0|e?y=-(E=0|(e<0?-e:e)):C&&U(2,t+" cannot be zero",e))),r[t]=[y,E],a(t="ERRORS")&&(e===!!e||1===e||0===e?(w=0,x=(C=!!e)?L:Z):C&&U(2,t+j,e)),r[t]=C,a(t="CRYPTO")&&(!0===e||!1===e||1===e||0===e?e?!(e="undefined"==typeof crypto)&&crypto&&(crypto.getRandomValues||crypto.randomBytes)?A=!0:C?U(2,"crypto unavailable",e?void 0:crypto):A=!1:A=!1:C&&U(2,t+j,e)),r[t]=A,a(t="MODULO_MODE")&&x(e,0,9,2,t)&&(N=0|e),r[t]=N,a(t="POW_PRECISION")&&x(e,0,$,2,t)&&(T=0|e),r[t]=T,a(t="FORMAT")&&("object"==typeof e?R=e:C&&U(2,t+" not an object",e)),r[t]=R,r},B.max=function(){return o(arguments,r.lt)},B.min=function(){return o(arguments,r.gt)},B.random=(n=9007199254740992,c=Math.random()*n&2097151?function(){return F(Math.random()*n)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,o,i,a=0,s=[],u=new B(h);if(e=null!=e&&x(e,0,$,14)?0|e:p,o=q(e/K),A)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(o*=2));a<o;)9e15<=(i=131072*t[a]+(t[a+1]>>>11))?(n=crypto.getRandomValues(new Uint32Array(2)),t[a]=n[0],t[a+1]=n[1]):(s.push(i%1e14),a+=2);a=o/2}else if(crypto.randomBytes){for(t=crypto.randomBytes(o*=7);a<o;)9e15<=(i=281474976710656*(31&t[a])+1099511627776*t[a+1]+4294967296*t[a+2]+16777216*t[a+3]+(t[a+4]<<16)+(t[a+5]<<8)+t[a+6])?crypto.randomBytes(7).copy(t,a):(s.push(i%1e14),a+=7);a=o/7}else A=!1,C&&U(14,"crypto unavailable",crypto);if(!A)for(;a<o;)(i=c())<9e15&&(s[a++]=i%1e14);for(o=s[--a],e%=K,o&&e&&(i=V[K-e],s[a]=F(o/i)*i);0===s[a];s.pop(),a--);if(a<0)s=[r=0];else{for(r=-1;0===s[0];s.splice(0,1),r-=K);for(a=1,i=s[0];10<=i;i/=10,a++);a<K&&(r-=K-a)}return u.e=r,u.c=s,u}),g=function(e,t,n,r,o){var i,a,s,u,l,c,f,d,h,g,p,m,v,w,b,y,E,C=e.s==t.s?1:-1,x=e.c,A=t.c;if(!(x&&x[0]&&A&&A[0]))return new B(e.s&&t.s&&(x?!A||x[0]!=A[0]:A)?x&&0==x[0]||!A?0*C:C/0:NaN);for(h=(d=new B(C)).c=[],C=n+(a=e.e-t.e)+1,o||(o=J,a=G(e.e/K)-G(t.e/K),C=C/K|0),s=0;A[s]==(x[s]||0);s++);if(A[s]>(x[s]||0)&&a--,C<0)h.push(1),u=!0;else{for(w=x.length,y=A.length,C+=2,1<(l=F(o/(A[s=0]+1)))&&(A=P(A,l,o),x=P(x,l,o),y=A.length,w=x.length),v=y,p=(g=x.slice(0,y)).length;p<y;g[p++]=0);E=A.slice(),E=[0].concat(E),b=A[0],A[1]>=o/2&&b++;do{if(l=0,(i=I(A,g,y,p))<0){if(m=g[0],y!=p&&(m=m*o+(g[1]||0)),1<(l=F(m/b)))for(o<=l&&(l=o-1),f=(c=P(A,l,o)).length,p=g.length;1==I(c,g,f,p);)l--,S(c,y<f?E:A,f,o),f=c.length,i=1;else 0==l&&(i=l=1),f=(c=A.slice()).length;if(f<p&&(c=[0].concat(c)),S(g,c,p,o),p=g.length,-1==i)for(;I(A,g,y,p)<1;)l++,S(g,y<p?E:A,p,o),p=g.length}else 0===i&&(l++,g=[0])}while(h[s++]=l,g[0]?g[p++]=x[v]||0:(g=[x[v]],p=1),(v++<w||null!=g[0])&&C--);u=null!=g[0],h[0]||h.splice(0,1)}if(o==J){for(s=1,C=h[0];10<=C;C/=10,s++);O(d,n+(d.e=s+a*K-1)+1,r,u)}else d.e=a,d.r=+u;return d},a=/^(-?)0([xbo])(?=\w[\w.]*$)/i,s=/^([^.]+)\.$/,u=/^\.([^.]+)$/,f=/^-?(Infinity|NaN)$/,d=/^\s*\+(?=[\w.])|^\s+|\s+$/g,l=function(e,t,n,r){var o,i=n?t:t.replace(d,"");if(f.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!n&&(i=i.replace(a,function(e,t,n){return o="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=o?e:t}),r&&(o=r,i=i.replace(s,"$1").replace(u,"0.$1")),t!=i))return new B(i,o);C&&U(w,"not a"+(r?" base "+r:"")+" number",t),e.s=null}e.c=e.e=null,w=0},r.absoluteValue=r.abs=function(){var e=new B(this);return e.s<0&&(e.s=1),e},r.ceil=function(){return O(new B(this),this.e+1,2)},r.comparedTo=r.cmp=function(e,t){return w=1,i(this,new B(e,t))},r.decimalPlaces=r.dp=function(){var e,t,n=this.c;if(!n)return null;if(e=((t=n.length-1)-G(this.e/K))*K,t=n[t])for(;t%10==0;t/=10,e--);return e<0&&(e=0),e},r.dividedBy=r.div=function(e,t){return w=3,g(this,new B(e,t),p,m)},r.dividedToIntegerBy=r.divToInt=function(e,t){return w=4,g(this,new B(e,t),0,1)},r.equals=r.eq=function(e,t){return w=5,0===i(this,new B(e,t))},r.floor=function(){return O(new B(this),this.e+1,3)},r.greaterThan=r.gt=function(e,t){return w=6,0<i(this,new B(e,t))},r.greaterThanOrEqualTo=r.gte=function(e,t){return w=7,1===(t=i(this,new B(e,t)))||0===t},r.isFinite=function(){return!!this.c},r.isInteger=r.isInt=function(){return!!this.c&&G(this.e/K)>this.c.length-2},r.isNaN=function(){return!this.s},r.isNegative=r.isNeg=function(){return this.s<0},r.isZero=function(){return!!this.c&&0==this.c[0]},r.lessThan=r.lt=function(e,t){return w=8,i(this,new B(e,t))<0},r.lessThanOrEqualTo=r.lte=function(e,t){return w=9,-1===(t=i(this,new B(e,t)))||0===t},r.minus=r.sub=function(e,t){var n,r,o,i,a=this,s=a.s;if(w=10,t=(e=new B(e,t)).s,!s||!t)return new B(NaN);if(s!=t)return e.s=-t,a.plus(e);var u=a.e/K,l=e.e/K,c=a.c,f=e.c;if(!u||!l){if(!c||!f)return c?(e.s=-t,e):new B(f?a:NaN);if(!c[0]||!f[0])return f[0]?(e.s=-t,e):new B(c[0]?a:3==m?-0:0)}if(u=G(u),l=G(l),c=c.slice(),s=u-l){for((o=(i=s<0)?(s=-s,c):(l=u,f)).reverse(),t=s;t--;o.push(0));o.reverse()}else for(r=(i=(s=c.length)<(t=f.length))?s:t,s=t=0;t<r;t++)if(c[t]!=f[t]){i=c[t]<f[t];break}if(i&&(o=c,c=f,f=o,e.s=-e.s),0<(t=(r=f.length)-(n=c.length)))for(;t--;c[n++]=0);for(t=J-1;s<r;){if(c[--r]<f[r]){for(n=r;n&&!c[--n];c[n]=t);--c[n],c[r]+=J}c[r]-=f[r]}for(;0==c[0];c.splice(0,1),--l);return c[0]?k(e,c,l):(e.s=3==m?-1:1,e.c=[e.e=0],e)},r.modulo=r.mod=function(e,t){var n,r=this;return w=11,e=new B(e,t),!r.c||!e.s||e.c&&!e.c[0]?new B(NaN):!e.c||r.c&&!r.c[0]?new B(r):(9==N?(t=e.s,e.s=1,n=g(r,e,0,3),e.s=t,n.s*=t):n=g(r,e,0,N),r.minus(n.times(e)))},r.negated=r.neg=function(){var e=new B(this);return e.s=-e.s||null,e},r.plus=r.add=function(e,t){var n,r=this,o=r.s;if(w=12,t=(e=new B(e,t)).s,!o||!t)return new B(NaN);if(o!=t)return e.s=-t,r.minus(e);var i=r.e/K,a=e.e/K,s=r.c,u=e.c;if(!i||!a){if(!s||!u)return new B(o/0);if(!s[0]||!u[0])return u[0]?e:new B(s[0]?r:0*o)}if(i=G(i),a=G(a),s=s.slice(),o=i-a){for((n=0<o?(a=i,u):(o=-o,s)).reverse();o--;n.push(0));n.reverse()}for((o=s.length)-(t=u.length)<0&&(n=u,u=s,s=n,t=o),o=0;t;)o=(s[--t]=s[t]+u[t]+o)/J|0,s[t]=J===s[t]?0:s[t]%J;return o&&(s=[o].concat(s),++a),k(e,s,a)},r.precision=r.sd=function(e){var t,n,r=this.c;if(null!=e&&e!==!!e&&1!==e&&0!==e&&(C&&U(13,"argument"+j,e),e!=!!e&&(e=null)),!r)return null;if(t=(n=r.length-1)*K+1,n=r[n]){for(;n%10==0;n/=10,t--);for(n=r[0];10<=n;n/=10,t++);}return e&&this.e+1>t&&(t=this.e+1),t},r.round=function(e,t){var n=new B(this);return null!=e&&!x(e,0,$,15)||O(n,~~e+this.e+1,null!=t&&x(t,0,8,15,H)?0|t:m),n},r.shift=function(e){var t=this;return x(e,-W,W,16,"argument")?t.times("1e"+oe(e)):new B(t.c&&t.c[0]&&(e<-W||W<e)?t.s*(e<0?0:1/0):t)},r.squareRoot=r.sqrt=function(){var e,t,n,r,o,i=this,a=i.c,s=i.s,u=i.e,l=p+4,c=new B("0.5");if(1!==s||!a||!a[0])return new B(!s||s<0&&(!a||a[0])?NaN:a?i:1/0);if((n=0==(s=Math.sqrt(+i))||s==1/0?(((t=X(a)).length+u)%2==0&&(t+="0"),s=Math.sqrt(t),u=G((u+1)/2)-(u<0||u%2),new B(t=s==1/0?"1e"+u:(t=s.toExponential()).slice(0,t.indexOf("e")+1)+u)):new B(s+"")).c[0])for((s=(u=n.e)+l)<3&&(s=0);;)if(o=n,n=c.times(o.plus(g(i,o,l,1))),X(o.c).slice(0,s)===(t=X(n.c)).slice(0,s)){if(n.e<u&&--s,"9999"!=(t=t.slice(s-3,s+1))&&(r||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(O(n,n.e+p+2,1),e=!n.times(n).eq(i));break}if(!r&&(O(o,o.e+p+2,0),o.times(o).eq(i))){n=o;break}l+=4,s+=4,r=1}return O(n,n.e+p+1,m,e)},r.times=r.mul=function(e,t){var n,r,o,i,a,s,u,l,c,f,d,h,g,p=this,m=p.c,v=(w=17,(e=new B(e,t)).c);if(!(m&&v&&m[0]&&v[0]))return!p.s||!e.s||m&&!m[0]&&!v||v&&!v[0]&&!m?e.c=e.e=e.s=null:(e.s*=p.s,m&&v?(e.c=[0],e.e=0):e.c=e.e=null),e;for(t=G(p.e/K)+G(e.e/K),e.s*=p.s,(s=m.length)<(p=v.length)&&(d=m,m=v,v=d,r=s,s=p,p=r),r=s+p,d=[];r--;d.push(0));for(h=J,g=Q,r=p;0<=--r;){for(n=0,c=v[r]%g,f=v[r]/g|0,o=r+(i=s);r<o;)n=((u=c*(u=m[--i]%g)+(a=f*u+(l=m[i]/g|0)*c)%g*g+d[o]+n)/h|0)+(a/g|0)+f*l,d[o--]=u%h;d[o]=n}return n?++t:d.splice(0,1),k(e,d,t)},r.toDigits=function(e,t){var n=new B(this);return e=null!=e&&x(e,1,$,18,"precision")?0|e:null,t=null!=t&&x(t,0,8,18,H)?0|t:m,e?O(n,e,t):n},r.toExponential=function(e,t){return _(this,null!=e&&x(e,0,$,19)?1+~~e:null,t,19)},r.toFixed=function(e,t){return _(this,null!=e&&x(e,0,$,20)?~~e+this.e+1:null,t,20)},r.toFormat=function(e,t){var n=_(this,null!=e&&x(e,0,$,21)?~~e+this.e+1:null,t,21);if(this.c){var r,o=n.split("."),i=+R.groupSize,e=+R.secondaryGroupSize,a=R.groupSeparator,s=o[0],t=o[1],o=this.s<0,u=o?s.slice(1):s,l=u.length;if(e&&(r=i,i=e,l-=e=r),0<i&&0<l){for(r=l%i||i,s=u.substr(0,r);r<l;r+=i)s+=a+u.substr(r,i);0<e&&(s+=a+u.slice(r)),o&&(s="-"+s)}n=t?s+R.decimalSeparator+((e=+R.fractionGroupSize)?t.replace(new RegExp("\\d{"+e+"}\\B","g"),"$&"+R.fractionGroupSeparator):t):s}return n},r.toFraction=function(e){var t,n,r,o,i,a,s=C,u=this,l=this.c,c=new B(h),f=t=new B(h),d=o=new B(h);if(null!=e&&(C=!1,r=new B(e),C=s,(s=r.isInt())&&!r.lt(h)||(C&&U(22,"max denominator "+(s?"out of range":"not an integer"),e),e=!s&&r.c&&O(r,r.e+1,1).gte(h)?r:null)),!l)return this.toString();for(a=X(l),s=c.e=a.length-this.e-1,c.c[0]=V[(l=s%K)<0?K+l:l],e=!e||0<r.cmp(c)?0<s?c:f:r,l=E,E=1/0,r=new B(a),o.c[0]=0;i=g(r,c,0,1),1!=(n=t.plus(i.times(d))).cmp(e);)t=d,d=n,f=o.plus(i.times(n=f)),o=n,c=r.minus(i.times(n=c)),r=n;return n=g(e.minus(t),d,0,1),o=o.plus(n.times(f)),t=t.plus(n.times(d)),o.s=f.s=this.s,u=g(f,d,s*=2,m).minus(this).abs().cmp(g(o,t,s,m).minus(this).abs())<1?[f.toString(),d.toString()]:[o.toString(),t.toString()],E=l,u},r.toNumber=function(){return+this},r.toPower=r.pow=function(e,t){var n,r,o,i=F(e<0?-e:+e),a=this;if(null!=t&&(w=23,t=new B(t)),!x(e,-W,W,23,"exponent")&&(!isFinite(e)||W<i&&(e/=0)||parseFloat(e)!=e&&!(e=NaN))||0==e)return n=Math.pow(+a,e),new B(t?n%t:n);for(t?1<e&&a.gt(h)&&a.isInt()&&t.gt(h)&&t.isInt()?a=a.mod(t):(o=t,t=null):T&&(n=q(T/K+2)),r=new B(h);;){if(i%2){if(!(r=r.times(a)).c)break;n?r.c.length>n&&(r.c.length=n):t&&(r=r.mod(t))}if(!(i=F(i/2)))break;a=a.times(a),n?a.c&&a.c.length>n&&(a.c.length=n):t&&(a=a.mod(t))}return t?r:(e<0&&(r=h.div(r)),o?r.mod(o):n?O(r,T,m):r)},r.toPrecision=function(e,t){return _(this,null!=e&&x(e,1,$,24,"precision")?0|e:null,t,24)},r.toString=function(e){var t,n=this.s,r=this.e;return null===r?n?(t="Infinity",n<0&&(t="-"+t)):t="NaN":(t=X(this.c),t=null!=e&&x(e,2,64,25,"base")?M(re(t,r),0|e,10,n):(r<=v||b<=r?ne:re)(t,r),n<0&&this.c[0]&&(t="-"+t)),t},r.truncated=r.trunc=function(){return O(new B(this),this.e+1,1)},r.valueOf=r.toJSON=function(){var e,t=this.e;return null===t?this.toString():(e=X(this.c),e=(t<=v||b<=t?ne:re)(e,t),this.s<0?"-"+e:e)},r.isBigNumber=!0,null!=t&&B.config(t),B}()).default=t.BigNumber=t,"function"==typeof define&&define.amd?define(function(){return t}):void 0!==n&&n.exports?n.exports=t:(e=e||("undefined"!=typeof self?self:Function("return this")())).BigNumber=t}(this)},{}],10:[function(e,t,n){"use strict";var r=e("window-or-global");t.exports=function(){return"function"==typeof r.Promise&&"function"==typeof r.Promise.prototype.then}},{"window-or-global":40}],11:[function(e,t,n){"use strict";var h={single_source_shortest_paths:function(e,t,n){var r={},o={};o[t]=0;var i,a,s,u,l,c,f,d=h.PriorityQueue.make();for(d.push(t,0);!d.empty();)for(s in a=(i=d.pop()).value,u=i.cost,l=e[a]||{})l.hasOwnProperty(s)&&(c=u+l[s],f=o[s],(void 0===o[s]||c<f)&&(o[s]=c,d.push(s,c),r[s]=a));if(void 0===n||void 0!==o[n])return r;n=["Could not find a path from ",t," to ",n,"."].join("");throw new Error(n)},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),e[r],r=e[r];return n.reverse(),n},find_path:function(e,t,n){t=h.single_source_shortest_paths(e,t,n);return h.extract_shortest_path_from_predecessor_list(t,n)},PriorityQueue:{make:function(e){var t,n=h.PriorityQueue,r={};for(t in e=e||{},n)n.hasOwnProperty(t)&&(r[t]=n[t]);return r.queue=[],r.sorter=e.sorter||n.default_sorter,r},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){t={value:e,cost:t};this.queue.push(t),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};void 0!==t&&(t.exports=h)},{}],12:[function(e,t,n){"use strict";function d(e){return"function"==typeof Array.isArray?Array.isArray(e):"[object Array]"===i.call(e)}function h(e){if(e&&"[object Object]"===i.call(e)){var t,n=o.call(e,"constructor"),r=e.constructor&&e.constructor.prototype&&o.call(e.constructor.prototype,"isPrototypeOf");if(!e.constructor||n||r){for(t in e);return void 0===t||o.call(e,t)}}}var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString;t.exports=function e(t,n){var r,o,i,a,s,u=t,l=1,c=arguments.length,f=!1;for("boolean"==typeof u&&(f=u,u=n||{},l=2),(null==u||"object"!=typeof u&&"function"!=typeof u)&&(u={});l<c;++l)if(null!=(r=arguments[l]))for(o in r)s=u[o],u!==(i=r[o])&&(f&&i&&(h(i)||(a=d(i)))?(s=a?(a=!1,s&&d(s)?s:[]):s&&h(s)?s:{},u[o]=e(f,s,i)):void 0!==i&&(u[o]=i));return u}},{}],13:[function(e,t,n){var r={}.toString;t.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},{}],14:[function(e,t,n){var u=e("can-promise"),l=e("./core/qrcode"),r=e("./renderer/canvas"),o=e("./renderer/svg-tag.js");function i(r,o,i,a,t){var e=[].slice.call(arguments,1),n=e.length,e="function"==typeof e[n-1];if(!e&&!u())throw new Error("Callback required as last argument");if(!e){if(n<1)throw new Error("Too few arguments provided");return 1===n?(i=o,o=a=void 0):2!==n||o.getContext||(a=i,i=o,o=void 0),new Promise(function(e,t){try{var n=l.create(i,a);e(r(n,o,a))}catch(e){t(e)}})}if(n<2)throw new Error("Too few arguments provided");2===n?(t=i,i=o,o=a=void 0):3===n&&(o.getContext&&void 0===t?(t=a,a=void 0):(t=a,a=i,i=o,o=void 0));try{var s=l.create(i,a);t(null,r(s,o,a))}catch(e){t(e)}}n.create=l.create,n.toCanvas=i.bind(null,r.render),n.toDataURL=i.bind(null,r.renderToDataURL),n.toString=i.bind(null,function(e,t,n){return o.render(e,n)})},{"./core/qrcode":30,"./renderer/canvas":36,"./renderer/svg-tag.js":37,"can-promise":10}],15:[function(e,t,a){var i=e("./utils").getSymbolSize;a.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,e=i(e),n=145===e?26:2*Math.ceil((e-13)/(2*t-2)),r=[e-7],o=1;o<t-1;o++)r[o]=r[o-1]-n;return r.push(6),r.reverse()},a.getPositions=function(e){for(var t=[],n=a.getRowColCoords(e),r=n.length,o=0;o<r;o++)for(var i=0;i<r;i++)0===o&&0===i||0===o&&i===r-1||o===r-1&&0===i||t.push([n[o],n[i]]);return t}},{"./utils":34}],16:[function(e,t,n){var r=e("./mode"),o=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function i(e){this.mode=r.ALPHANUMERIC,this.data=e}i.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){for(var t=0;t+2<=this.data.length;t+=2){var n=45*o.indexOf(this.data[t]);n+=o.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(o.indexOf(this.data[t]),6)},t.exports=i},{"./mode":27}],17:[function(e,t,n){function r(){this.buffer=[],this.length=0}r.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},t.exports=r},{}],18:[function(e,t,n){var r=e("../utils/buffer");function o(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new r(e*e),this.data.fill(0),this.reservedBit=new r(e*e),this.reservedBit.fill(0)}o.prototype.set=function(e,t,n,r){t=e*this.size+t;this.data[t]=n,r&&(this.reservedBit[t]=!0)},o.prototype.get=function(e,t){return this.data[e*this.size+t]},o.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},o.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]},t.exports=o},{"../utils/buffer":39}],19:[function(e,t,n){var r=e("../utils/buffer"),o=e("./mode");function i(e){this.mode=o.BYTE,this.data=new r(e)}i.getBitsLength=function(e){return 8*e},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){for(var t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)},t.exports=i},{"../utils/buffer":39,"./mode":27}],20:[function(e,t,n){var r=e("./error-correction-level"),o=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],i=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];n.getBlocksCount=function(e,t){switch(t){case r.L:return o[4*(e-1)+0];case r.M:return o[4*(e-1)+1];case r.Q:return o[4*(e-1)+2];case r.H:return o[4*(e-1)+3];default:return}},n.getTotalCodewordsCount=function(e,t){switch(t){case r.L:return i[4*(e-1)+0];case r.M:return i[4*(e-1)+1];case r.Q:return i[4*(e-1)+2];case r.H:return i[4*(e-1)+3];default:return}}},{"./error-correction-level":21}],21:[function(e,t,n){n.L={bit:1},n.M={bit:0},n.Q={bit:3},n.H={bit:2},n.isValid=function(e){return e&&void 0!==e.bit&&0<=e.bit&&e.bit<4},n.from=function(e,t){if(n.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return n.L;case"m":case"medium":return n.M;case"q":case"quartile":return n.Q;case"h":case"high":return n.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return t}}},{}],22:[function(e,t,n){var r=e("./utils").getSymbolSize;n.getPositions=function(e){e=r(e);return[[0,0],[e-7,0],[0,e-7]]}},{"./utils":34}],23:[function(e,t,n){var r=e("./utils"),o=r.getBCHDigit(1335);n.getEncodedBits=function(e,t){for(var t=e.bit<<3|t,n=t<<10;0<=r.getBCHDigit(n)-o;)n^=1335<<r.getBCHDigit(n)-o;return 21522^(t<<10|n)}},{"./utils":34}],24:[function(e,t,n){var e=e("../utils/buffer"),r=new e(512),o=new e(256);!function(){for(var e=1,t=0;t<255;t++)r[t]=e,o[e]=t,256&(e<<=1)&&(e^=285);for(t=255;t<512;t++)r[t]=r[t-255]}(),n.log=function(e){if(e<1)throw new Error("log("+e+")");return o[e]},n.exp=function(e){return r[e]},n.mul=function(e,t){return 0===e||0===t?0:r[o[e]+o[t]]}},{"../utils/buffer":39}],25:[function(e,t,n){var r=e("./mode"),o=e("./utils");function i(e){this.mode=r.KANJI,this.data=e}i.getBitsLength=function(e){return 13*e},i.prototype.getLength=function(){return this.data.length},i.prototype.getBitsLength=function(){return i.getBitsLength(this.data.length)},i.prototype.write=function(e){for(var t=0;t<this.data.length;t++){var n=o.toSJIS(this.data[t]);if(33088<=n&&n<=40956)n-=33088;else{if(!(57408<=n&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}},t.exports=i},{"./mode":27,"./utils":34}],26:[function(e,t,s){s.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var c=3,a=3,u=40,o=10;s.isValid=function(e){return e&&""!==e&&!isNaN(e)&&0<=e&&e<=7},s.from=function(e){return s.isValid(e)?parseInt(e,10):void 0},s.getPenaltyN1=function(e){for(var t=e.size,n=0,r=0,o=0,i=null,a=null,s=0;s<t;s++){i=a=null;for(var u=r=o=0;u<t;u++){var l=e.get(s,u);l===i?r++:(5<=r&&(n+=c+(r-5)),i=l,r=1),(l=e.get(u,s))===a?o++:(5<=o&&(n+=c+(o-5)),a=l,o=1)}5<=r&&(n+=c+(r-5)),5<=o&&(n+=c+(o-5))}return n},s.getPenaltyN2=function(e){for(var t=e.size,n=0,r=0;r<t-1;r++)for(var o=0;o<t-1;o++){var i=e.get(r,o)+e.get(r,o+1)+e.get(r+1,o)+e.get(r+1,o+1);4!==i&&0!==i||n++}return n*a},s.getPenaltyN3=function(e){for(var t=e.size,n=0,r=0,o=0,i=0;i<t;i++)for(var a=r=o=0;a<t;a++)r=r<<1&2047|e.get(i,a),10<=a&&(1488===r||93===r)&&n++,o=o<<1&2047|e.get(a,i),10<=a&&(1488===o||93===o)&&n++;return n*u},s.getPenaltyN4=function(e){for(var t=0,n=e.data.length,r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*o},s.applyMask=function(e,t){for(var n=t.size,r=0;r<n;r++)for(var o=0;o<n;o++)t.isReserved(o,r)||t.xor(o,r,function(e,t,n){switch(e){case s.Patterns.PATTERN000:return(t+n)%2==0;case s.Patterns.PATTERN001:return t%2==0;case s.Patterns.PATTERN010:return n%3==0;case s.Patterns.PATTERN011:return(t+n)%3==0;case s.Patterns.PATTERN100:return(Math.floor(t/2)+Math.floor(n/3))%2==0;case s.Patterns.PATTERN101:return t*n%2+t*n%3==0;case s.Patterns.PATTERN110:return(t*n%2+t*n%3)%2==0;case s.Patterns.PATTERN111:return(t*n%3+(t+n)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}(e,o,r))},s.getBestMask=function(e,t){for(var n=Object.keys(s.Patterns).length,r=0,o=1/0,i=0;i<n;i++){t(i),s.applyMask(i,e);var a=s.getPenaltyN1(e)+s.getPenaltyN2(e)+s.getPenaltyN3(e)+s.getPenaltyN4(e);s.applyMask(i,e),a<o&&(o=a,r=i)}return r}},{}],27:[function(e,t,n){var r=e("./version"),o=e("./regex");n.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},n.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},n.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},n.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},n.MIXED={bit:-1},n.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!r.isValid(t))throw new Error("Invalid version: "+t);return 1<=t&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},n.getBestModeForData=function(e){return o.testNumeric(e)?n.NUMERIC:o.testAlphanumeric(e)?n.ALPHANUMERIC:o.testKanji(e)?n.KANJI:n.BYTE},n.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},n.isValid=function(e){return e&&e.bit&&e.ccBits},n.from=function(e,t){if(n.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return n.NUMERIC;case"alphanumeric":return n.ALPHANUMERIC;case"kanji":return n.KANJI;case"byte":return n.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return t}}},{"./regex":32,"./version":35}],28:[function(e,t,n){var r=e("./mode");function o(e){this.mode=r.NUMERIC,this.data=e.toString()}o.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},o.prototype.getLength=function(){return this.data.length},o.prototype.getBitsLength=function(){return o.getBitsLength(this.data.length)},o.prototype.write=function(e){for(var t,n,r=0;r+3<=this.data.length;r+=3)t=this.data.substr(r,3),n=parseInt(t,10),e.put(n,10);var o=this.data.length-r;0<o&&(t=this.data.substr(r),n=parseInt(t,10),e.put(n,3*o+1))},t.exports=o},{"./mode":27}],29:[function(e,t,r){var a=e("../utils/buffer"),s=e("./galois-field");r.mul=function(e,t){var n=new a(e.length+t.length-1);n.fill(0);for(var r=0;r<e.length;r++)for(var o=0;o<t.length;o++)n[r+o]^=s.mul(e[r],t[o]);return n},r.mod=function(e,t){for(var n=new a(e);0<=n.length-t.length;){for(var r=n[0],o=0;o<t.length;o++)n[o]^=s.mul(t[o],r);for(var i=0;i<n.length&&0===n[i];)i++;n=n.slice(i)}return n},r.generateECPolynomial=function(e){for(var t=new a([1]),n=0;n<e;n++)t=r.mul(t,[1,s.exp(n)]);return t}},{"../utils/buffer":39,"./galois-field":24}],30:[function(e,t,n){var C=e("../utils/buffer"),x=e("./utils"),i=e("./error-correction-level"),a=e("./bit-buffer"),s=e("./bit-matrix"),u=e("./alignment-pattern"),l=e("./finder-pattern"),c=e("./mask-pattern"),A=e("./error-correction-code"),N=e("./reed-solomon-encoder"),f=e("./version"),d=e("./format-info"),h=e("./mode"),g=e("./segments"),p=e("isarray");function m(e,t,n){for(var r,o=e.size,i=d.getEncodedBits(t,n),a=0;a<15;a++)r=1==(i>>a&1),a<6?e.set(a,8,r,!0):a<8?e.set(a+1,8,r,!0):e.set(o-15+a,8,r,!0),a<8?e.set(8,o-a-1,r,!0):a<9?e.set(8,15-a-1+1,r,!0):e.set(8,15-a-1,r,!0);e.set(o-8,8,1,!0)}function v(t,e,n){var r=new a;n.forEach(function(e){r.put(e.mode.bit,4),r.put(e.getLength(),h.getCharCountIndicator(e.mode,t)),e.write(r)});n=8*(x.getSymbolTotalCodewords(t)-A.getTotalCodewordsCount(t,e));for(r.getLengthInBits()+4<=n&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(0);for(var o=(n-r.getLengthInBits())/8,i=0;i<o;i++)r.put(i%2?17:236,8);return function(e,t,n){for(var r=x.getSymbolTotalCodewords(t),o=A.getTotalCodewordsCount(t,n),o=r-o,i=A.getBlocksCount(t,n),a=i-r%i,n=Math.floor(r/i),s=Math.floor(o/i),u=s+1,l=n-s,c=new N(l),f=0,d=new Array(i),h=new Array(i),g=0,p=new C(e.buffer),m=0;m<i;m++){var v=m<a?s:u;d[m]=p.slice(f,f+v),h[m]=c.encode(d[m]),f+=v,g=Math.max(g,v)}var w,b,y=new C(r),E=0;for(w=0;w<g;w++)for(b=0;b<i;b++)w<d[b].length&&(y[E++]=d[b][w]);for(w=0;w<l;w++)for(b=0;b<i;b++)y[E++]=h[b][w];return y}(r,t,e)}function w(e,t,n,r){var o;if(p(e))o=g.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var i,a=t;a||(i=g.rawSplit(e),a=f.getBestVersionForData(i,n)),o=g.fromString(e,a||40)}e=f.getBestVersionForData(o,n);if(!e)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<e)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+e+".\n")}else t=e;a=v(t,n,o),e=x.getSymbolSize(t),e=new s(e);return function(e,t){for(var n=e.size,r=l.getPositions(t),o=0;o<r.length;o++)for(var i=r[o][0],a=r[o][1],s=-1;s<=7;s++)if(!(i+s<=-1||n<=i+s))for(var u=-1;u<=7;u++)a+u<=-1||n<=a+u||(0<=s&&s<=6&&(0===u||6===u)||0<=u&&u<=6&&(0===s||6===s)||2<=s&&s<=4&&2<=u&&u<=4?e.set(i+s,a+u,!0,!0):e.set(i+s,a+u,!1,!0))}(e,t),function(e){for(var t=e.size,n=8;n<t-8;n++){var r=n%2==0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}(e),function(e,t){for(var n=u.getPositions(t),r=0;r<n.length;r++)for(var o=n[r][0],i=n[r][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)-2===a||2===a||-2===s||2===s||0===a&&0===s?e.set(o+a,i+s,!0,!0):e.set(o+a,i+s,!1,!0)}(e,t),m(e,n,0),7<=t&&function(e,t){for(var n,r,o,i=e.size,a=f.getEncodedBits(t),s=0;s<18;s++)n=Math.floor(s/3),r=s%3+i-8-3,o=1==(a>>s&1),e.set(n,r,o,!0),e.set(r,n,o,!0)}(e,t),function(e,t){for(var n=e.size,r=-1,o=n-1,i=7,a=0,s=n-1;0<s;s-=2)for(6===s&&s--;;){for(var u,l=0;l<2;l++)e.isReserved(o,s-l)||(u=!1,a<t.length&&(u=1==(t[a]>>>i&1)),e.set(o,s-l,u),-1===--i&&(a++,i=7));if((o+=r)<0||n<=o){o-=r,r=-r;break}}}(e,a),r=r||c.getBestMask(e,m.bind(null,e,n)),c.applyMask(r,e),m(e,n,r),{modules:e,version:t,errorCorrectionLevel:n,maskPattern:r,segments:o}}n.create=function(e,t){if(void 0===e||""===e)throw new Error("No input text");var n,r,o=i.M;return void 0!==t&&(o=i.from(t.errorCorrectionLevel,i.M),n=f.from(t.version),r=c.from(t.maskPattern),t.toSJISFunc&&x.setToSJISFunction(t.toSJISFunc)),w(e,n,o,r)}},{"../utils/buffer":39,"./alignment-pattern":15,"./bit-buffer":17,"./bit-matrix":18,"./error-correction-code":20,"./error-correction-level":21,"./finder-pattern":22,"./format-info":23,"./mask-pattern":26,"./mode":27,"./reed-solomon-encoder":31,"./segments":33,"./utils":34,"./version":35,isarray:13}],31:[function(e,t,n){var r=e("../utils/buffer"),o=e("./polynomial");function i(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}i.prototype.initialize=function(e){this.degree=e,this.genPoly=o.generateECPolynomial(this.degree)},i.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=new r(this.degree);t.fill(0);var n=r.concat([e,t],e.length+this.degree),t=o.mod(n,this.genPoly),e=this.degree-t.length;if(0<e){n=new r(this.degree);return n.fill(0),t.copy(n,e),n}return t},t.exports=i},{"../utils/buffer":39,"./polynomial":29}],32:[function(e,t,n){var r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",o="(?:(?![A-Z0-9 $%*+\\-./:]|"+(r=r.replace(/u/g,"\\u"))+").)+";n.KANJI=new RegExp(r,"g"),n.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),n.BYTE=new RegExp(o,"g"),n.NUMERIC=new RegExp("[0-9]+","g"),n.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var i=new RegExp("^"+r+"$"),a=new RegExp("^[0-9]+$"),s=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");n.testKanji=function(e){return i.test(e)},n.testNumeric=function(e){return a.test(e)},n.testAlphanumeric=function(e){return s.test(e)}},{}],33:[function(e,t,a){var h=e("./mode"),r=e("./numeric-data"),o=e("./alphanumeric-data"),i=e("./byte-data"),s=e("./kanji-data"),u=e("./regex"),l=e("./utils"),c=e("dijkstrajs");function f(e){return unescape(encodeURIComponent(e)).length}function d(e,t,n){for(var r,o=[];null!==(r=e.exec(n));)o.push({data:r[0],index:r.index,mode:t,length:r[0].length});return o}function g(e){var t,n=d(u.NUMERIC,h.NUMERIC,e),r=d(u.ALPHANUMERIC,h.ALPHANUMERIC,e),e=l.isKanjiModeEnabled()?(t=d(u.BYTE,h.BYTE,e),d(u.KANJI,h.KANJI,e)):(t=d(u.BYTE_KANJI,h.BYTE,e),[]);return n.concat(r,t,e).sort(function(e,t){return e.index-t.index}).map(function(e){return{data:e.data,mode:e.mode,length:e.length}})}function p(e,t){switch(t){case h.NUMERIC:return r.getBitsLength(e);case h.ALPHANUMERIC:return o.getBitsLength(e);case h.KANJI:return s.getBitsLength(e);case h.BYTE:return i.getBitsLength(e)}}function n(e,t){var n=h.getBestModeForData(e),t=h.from(t,n);if(t!==h.BYTE&&t.bit<n.bit)throw new Error('"'+e+'" cannot be encoded with mode '+h.toString(t)+".\n Suggested mode is: "+h.toString(n));switch(t!==h.KANJI||l.isKanjiModeEnabled()||(t=h.BYTE),t){case h.NUMERIC:return new r(e);case h.ALPHANUMERIC:return new o(e);case h.KANJI:return new s(e);case h.BYTE:return new i(e)}}a.fromArray=function(e){return e.reduce(function(e,t){return"string"==typeof t?e.push(n(t,null)):t.data&&e.push(n(t.data,t.mode)),e},[])},a.fromString=function(e,t){for(var n=function(e,t){for(var n={},r={start:{}},o=["start"],i=0;i<e.length;i++){for(var a=e[i],s=[],u=0;u<a.length;u++){var l=a[u],c=""+i+u;s.push(c),n[c]={node:l,lastCount:0},r[c]={};for(var f=0;f<o.length;f++){var d=o[f];n[d]&&n[d].node.mode===l.mode?(r[d][c]=p(n[d].lastCount+l.length,l.mode)-p(n[d].lastCount,l.mode),n[d].lastCount+=l.length):(n[d]&&(n[d].lastCount=l.length),r[d][c]=p(l.length,l.mode)+4+h.getCharCountIndicator(l.mode,t))}}o=s}for(f=0;f<o.length;f++)r[o[f]].end=0;return{map:r,table:n}}(function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];switch(r.mode){case h.NUMERIC:t.push([r,{data:r.data,mode:h.ALPHANUMERIC,length:r.length},{data:r.data,mode:h.BYTE,length:r.length}]);break;case h.ALPHANUMERIC:t.push([r,{data:r.data,mode:h.BYTE,length:r.length}]);break;case h.KANJI:t.push([r,{data:r.data,mode:h.BYTE,length:f(r.data)}]);break;case h.BYTE:t.push([{data:r.data,mode:h.BYTE,length:f(r.data)}])}}return t}(g(e,l.isKanjiModeEnabled())),t),r=c.find_path(n.map,"start","end"),o=[],i=1;i<r.length-1;i++)o.push(n.table[r[i]].node);return a.fromArray(o.reduce(function(e,t){var n=0<=e.length-1?e[e.length-1]:null;return n&&n.mode===t.mode?e[e.length-1].data+=t.data:e.push(t),e},[]))},a.rawSplit=function(e){return a.fromArray(g(e,l.isKanjiModeEnabled()))}},{"./alphanumeric-data":16,"./byte-data":19,"./kanji-data":25,"./mode":27,"./numeric-data":28,"./regex":32,"./utils":34,dijkstrajs:11}],34:[function(e,t,n){var r,o=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];n.getSymbolSize=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||40<e)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},n.getSymbolTotalCodewords=function(e){return o[e]},n.getBCHDigit=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},n.setToSJISFunction=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');r=e},n.isKanjiModeEnabled=function(){return void 0!==r},n.toSJIS=function(e){return r(e)}},{}],35:[function(e,t,o){var i=e("./utils"),a=e("./error-correction-code"),r=e("./error-correction-level"),s=e("./mode"),u=e("isarray"),n=i.getBCHDigit(7973);function l(e,t){return s.getCharCountIndicator(e,t)+4}function c(e,t){for(var n=1;n<=40;n++)if(function(e,n){var r=0;return e.forEach(function(e){var t=l(e.mode,n);r+=t+e.getBitsLength()}),r}(e,n)<=o.getCapacity(n,t,s.MIXED))return n}o.isValid=function(e){return!isNaN(e)&&1<=e&&e<=40},o.from=function(e,t){return o.isValid(e)?parseInt(e,10):t},o.getCapacity=function(e,t,n){if(!o.isValid(e))throw new Error("Invalid QR Code version");void 0===n&&(n=s.BYTE);t=8*(i.getSymbolTotalCodewords(e)-a.getTotalCodewordsCount(e,t));if(n===s.MIXED)return t;var r=t-l(n,e);switch(n){case s.NUMERIC:return Math.floor(r/10*3);case s.ALPHANUMERIC:return Math.floor(r/11*2);case s.KANJI:return Math.floor(r/13);case s.BYTE:default:return Math.floor(r/8)}},o.getBestVersionForData=function(e,t){var n,t=r.from(t,r.M);if(u(e)){if(1<e.length)return c(e,t);if(0===e.length)return 1;n=e[0]}else n=e;return function(e,t,n){for(var r=1;r<=40;r++)if(t<=o.getCapacity(r,n,e))return r}(n.mode,n.getLength(),t)},o.getEncodedBits=function(e){if(!o.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;0<=i.getBCHDigit(t)-n;)t^=7973<<i.getBCHDigit(t)-n;return e<<12|t}},{"./error-correction-code":20,"./error-correction-level":21,"./mode":27,"./utils":34,isarray:13}],36:[function(e,t,r){var a=e("./utils");r.render=function(e,t,n){var r=n,o=t;void 0!==r||t&&t.getContext||(r=t,t=void 0),t||(o=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),r=a.getOptions(r);var i=a.getImageWidth(e.modules.size,r),n=o.getContext("2d"),t=n.createImageData(i,i);return a.qrToImageData(t.data,e,r),r=o,i=i,n.clearRect(0,0,r.width,r.height),r.style||(r.style={}),r.height=i,r.width=i,r.style.height=i+"px",r.style.width=i+"px",n.putImageData(t,0,0),o},r.renderToDataURL=function(e,t,n){void 0!==n||t&&t.getContext||(n=t,t=void 0),n=n||{};e=r.render(e,t,n),t=n.type||"image/png",n=n.rendererOpts||{};return e.toDataURL(t,n.quality)}},{"./utils":38}],37:[function(e,t,n){var a=e("./utils");function s(e,t){var n=e.a/255,e=t+'="'+e.hex+'"';return n<1?e+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':e}function c(e,t,n){t=e+t;return void 0!==n&&(t+=" "+n),t}n.render=function(e,t,n){var r=a.getOptions(t),o=e.modules.size,i=e.modules.data,t=o+2*r.margin,e=r.color.light.a?"<path "+s(r.color.light,"fill")+' d="M0 0h'+t+"v"+t+'H0z"/>':"",o="<path "+s(r.color.dark,"stroke")+' d="'+function(e,t,n){for(var r="",o=0,i=!1,a=0,s=0;s<e.length;s++){var u=Math.floor(s%t),l=Math.floor(s/t);u||i||(i=!0),e[s]?(a++,0<s&&0<u&&e[s-1]||(r+=i?c("M",u+n,.5+l+n):c("m",o,0),o=0,i=!1),u+1<t&&e[s+1]||(r+=c("h",a),a=0)):o++}return r}(i,o,r.margin)+'"/>',t='viewBox="0 0 '+t+" "+t+'"',o='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+t+">"+e+o+"</svg>";return"function"==typeof n&&n(null,o),o}},{"./utils":38}],38:[function(e,t,h){function o(e){if("string"!=typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||8<t.length)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map(function(e){return[e,e]}))),6===t.length&&t.push("F","F");e=parseInt(t.join(""),16);return{r:e>>24&255,g:e>>16&255,b:e>>8&255,a:255&e,hex:"#"+t.slice(0,6).join("")}}h.getOptions=function(e){(e=e||{}).color||(e.color={});var t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,n=e.width&&21<=e.width?e.width:void 0,r=e.scale||4;return{width:n,scale:n?4:r,margin:t,color:{dark:o(e.color.dark||"#000000ff"),light:o(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},h.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},h.getImageWidth=function(e,t){var n=h.getScale(e,t);return Math.floor((e+2*t.margin)*n)},h.qrToImageData=function(e,t,n){for(var r=t.modules.size,o=t.modules.data,i=h.getScale(r,n),a=Math.floor((r+2*n.margin)*i),s=n.margin*i,u=[n.color.light,n.color.dark],l=0;l<a;l++)for(var c=0;c<a;c++){var f=4*(l*a+c),d=n.color.light;s<=l&&s<=c&&l<a-s&&c<a-s&&(d=u[o[Math.floor((l-s)/i)*r+Math.floor((c-s)/i)]?1:0]),e[f++]=d.r,e[f++]=d.g,e[f++]=d.b,e[f]=d.a}}},{}],39:[function(e,t,n){"use strict";var a=e("isarray");var r=(s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}())?2147483647:1073741823;function s(e,t,n){return s.TYPED_ARRAY_SUPPORT||this instanceof s?"number"==typeof e?l(this,e):function(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer)return function(e,t,n,r){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");r=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);s.TYPED_ARRAY_SUPPORT?r.__proto__=s.prototype:r=o(e,r);return r}(e,t,n,r);return("string"!=typeof t?function(e,t){if(s.isBuffer(t)){var n=0|i(t.length),r=u(e,n);return 0===r.length?r:(t.copy(r,0,0,n),r)}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||function(e){return e!=e}(t.length)?u(e,0):o(e,t);if("Buffer"===t.type&&Array.isArray(t.data))return o(e,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}:function(e,t){var n=0|f(t),e=u(e,n),t=e.write(t);t!==n&&(e=e.slice(0,t));return e})(e,t)}(this,e,t,n):new s(e,t,n)}function i(e){if(r<=e)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r.toString(16)+" bytes");return 0|e}function u(e,t){var n;return s.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(t)).__proto__=s.prototype:(null===(n=e)&&(n=new s(t)),n.length=t),n}function l(e,t){var n=u(e,t<0?0:0|i(t));if(!s.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)n[r]=0;return n}function o(e,t){for(var n=t.length<0?0:0|i(t.length),r=u(e,n),o=0;o<n;o+=1)r[o]=255&t[o];return r}function c(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if(55295<(n=e.charCodeAt(a))&&n<57344){if(!o){if(56319<n){-1<(t-=3)&&i.push(239,191,189);continue}if(a+1===r){-1<(t-=3)&&i.push(239,191,189);continue}o=n;continue}if(n<56320){-1<(t-=3)&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&-1<(t-=3)&&i.push(239,191,189);if(o=null,n<128){if(--t<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function f(e){return s.isBuffer(e)?e.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)?e.byteLength:("string"!=typeof e&&(e=""+e),0===e.length?0:c(e).length)}function d(e,t,n,r){return function(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}(c(t,e.length-n),e,n,r)}s.TYPED_ARRAY_SUPPORT&&(s.prototype.__proto__=Uint8Array.prototype,s.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&s[Symbol.species]===s&&Object.defineProperty(s,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),s.prototype.write=function(e,t,n){void 0===t||void 0===n&&"string"==typeof t?(n=this.length,t=0):isFinite(t)&&(t|=0,isFinite(n)?n|=0:n=void 0);var r=this.length-t;if((void 0===n||r<n)&&(n=r),0<e.length&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return d(this,e,t,n)},s.prototype.slice=function(e,t){var n=this.length;if((e=~~e)<0?(e+=n)<0&&(e=0):n<e&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):n<t&&(t=n),t<e&&(t=e),s.TYPED_ARRAY_SUPPORT)(o=this.subarray(e,t)).__proto__=s.prototype;else for(var r=t-e,o=new s(r,void 0),i=0;i<r;++i)o[i]=this[i+e];return o},s.prototype.copy=function(e,t,n,r){if(n=n||0,r||0===r||(r=this.length),t>=e.length&&(t=e.length),t=t||0,0<r&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;0<=o;--o)e[o+t]=this[o+n];else if(i<1e3||!s.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},s.prototype.fill=function(e,t,n){var r;if("string"==typeof e?("string"==typeof t?(t=0,n=this.length):"string"==typeof n&&(n=this.length),1!==e.length||(r=e.charCodeAt(0))<256&&(e=r)):"number"==typeof e&&(e&=255),t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;if(t>>>=0,n=void 0===n?this.length:n>>>0,"number"==typeof(e=e||0))for(a=t;a<n;++a)this[a]=e;else for(var o=s.isBuffer(e)?e:new s(e),i=o.length,a=0;a<n-t;++a)this[a+t]=o[a%i];return this},s.concat=function(e,t){if(!a(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return u(null,0);if(void 0===t)for(o=t=0;o<e.length;++o)t+=e[o].length;for(var n=l(null,t),r=0,o=0;o<e.length;++o){var i=e[o];if(!s.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(n,r),r+=i.length}return n},s.byteLength=f,s.prototype._isBuffer=!0,s.isBuffer=function(e){return!(null==e||!e._isBuffer)},t.exports=s},{isarray:13}],40:[function(e,t,n){(function(e){"use strict";t.exports="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],dfdpay:[function(e,t,n){"use strict";var a=e("extend"),r=e("./libs/http"),o=e("./libs/config"),i=e("./libs/pay"),u=e("./libs/Utils"),e=(e("bignumber.js"),function(e,t){this._pay=new i(e,t)});e.config=o;function s(){return{goods:{name:"",desc:{},orderId:"",ext:""},qrcode:{showQRCode:!1,completeTip:void 0,cancelTip:void 0,container:void 0},extension:{openExtension:!0},mobile:{showInstallTip:!0,installTip:void 0},callback:void 0,listener:void 0,debug:!1,gasPrice:void 0,gasLimit:void 0}}var l=null;e.prototype={pay:function(e,t,n,r){return r=a(s(),r),this._pay.submit(e,t,n,{type:"binary"},r)},signBufferHex:function(e,t){return t=a(s(),t),this._pay.requestSign(e,t)},signBufferText:function(e,t){return t=a(s(),t),this._pay.requestSignText(e,t)},defaultConfig:{chainId:"2e13ba07b457f2e284dcfcbd3d4a3e4d78a6ed89a61006cdb7fdad6d67ef0b12",network:"ws://nodeapi.dfdtw.com:6090"},postMessageRequest:function(r,o,i,a){if(a=a||1e4,o=o||{},u.isMobileMobile()){var s=u.wrappedMobileMethod(r);return new Promise(function(t,n){var e=!1;dsBridge.call(s,o,function(e){e=JSON.parse(e);0===e.code?t(e):n(r+"failed: "+e.errmsg)}),setTimeout(function(){e||(e=!0,n(r+" timeout"))},a)})}return new Promise(function(t,e){var n=!1;return"undefined"==typeof DfdExtWallet?n?void 0:(n=!0,void e("DfdExtWallet not installed")):DfdExtWallet[i]?(DfdExtWallet[i](function(e){n||(n=!0,t(e))},o),void setTimeout(function(){n||(n=!0,e(r+" timeout"))},a)):(console.log("method "+i+" not found"),void e("method "+i+" not found in DfdExtWallet"))})},setConfig:function(e,t,n,r){return this.postMessageRequest("setConfig",{chainId:e,networkKey:t,network:n,clientNetwork:r},"setConfig",1e4)},onConnectedWallet:function(){function o(){return"undefined"!=typeof DfdExtWallet||u.isMobileMobile()}return new Promise(function(e,t){var n,r;o()?e():(n=0,r=setInterval(function(){return 10<n?(clearInterval(r),void t("timeout")):(n++,void(o()&&(clearInterval(r),e())))},500))})},getConfig:function(){return this.postMessageRequest("getConfig",{},"getConfig",1e4).then(function(e){return(l=e)&&"ws://nodeapi.dfdtw.com:6090"===e.network&&(e.network="ws://nodeapi2.dfdtw.com:6090"),e})},getConfigWithCache:function(){return l?Promise.resolve(l):this.getConfig()},getUserAddress:function(){return this.postMessageRequest("getUserAddress",{},"getUserAddress",5e3)},getChainConfigObject:function(){return dfd_js.ChainConfig},getApis:function(){return dfd_js.Apis},getAssets:function(e){return e.init_promise.then(function(){return e.db_api().exec("list_assets",["",100]).then(function(e){return e.sort(function(e,t){return e.id===t.id?0:e.id<t.id?-1:1})})})},getBalances:function(e,t){return e.init_promise.then(function(){return e.db_api().exec("get_addr_balances",[t]).then(function(e){return e.sort(function(e,t){return e.id===t.id?0:e.id<t.id?-1:1})})})},getTransaction:function(e,t){return e.init_promise.then(function(){return e.db_api().exec("get_transaction_by_id",[t])})},waitTransaction:function(o,i,a){return a=a||8e3,new Promise(function(t,e){var n=0,r=setInterval(function(){if(a<=n)return clearInterval(r),void e("transaction timeout, maybe transaction not successfully");n+=2e3,o.getTransactionById(i).then(function(e){clearInterval(r),t(e)}).catch(function(e){})},2e3)})},lockBalanceToMiner:function(e,t,n,r){var o={type:"lockBalanceToMiner",miner:e,assetId:t,amount:n};return(r=a(s(),r)).qrcode.showQRCode=!1,r.mobile.showInstallTip=!1,r.extension.openExtension=!0,o.memo=r.memo,this._pay.submit(t,e,n,o,r)},simulateCall:function(e,t,n,r,o,i){o={type:"simulateCall",function:r,args:o};return(i=a(s(),i)).qrcode.showQRCode=!1,i.mobile.showInstallTip=!1,i.extension.openExtension=!0,o.memo=i.memo,this._pay.submit(e,t,n,o,i)},invokeContract:function(e,t,n,r,o,i){return this.simulateCall.apply(this,arguments)},transferToContract:function(e,t,n,r,o){r={type:"transferToContract",args:r};return(o=a(s(),o)).qrcode.showQRCode=!1,o.mobile.showInstallTip=!1,o.extension.openExtension=!0,r.memo=o.memo,this._pay.submit(e,t,n,r,o)},queryPayInfo:function(e,t){t=(t=a(s(),t)).callback||o.payUrl(t.debug);return r.post(t,JSON.stringify({jsonrpc:"2.0",id:1,method:"QueryPayId",params:[e]}))}},t.exports=e},{"./libs/Utils":1,"./libs/config":3,"./libs/http":5,"./libs/pay":7,"bignumber.js":9,extend:12}]},{},[]);